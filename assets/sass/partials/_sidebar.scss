@keyframes draw-focus {
  0%   { transform:translateY(0); }
  64%  { transform:translateY(0); }
  67%  { transform:translateY(-6px); }
  68%  { transform:translateY(-6px); }
  71%  { transform:translateY(2px); }
  72%  { transform:translateY(0); }
  100% { transform:translateY(0); }
}

/*
.sidebar { position: fixed; top: 0; left: 0; bottom: 0; width: $sidebar; background-color: $black; color: $white; overflow-x: hidden; overflow-y: auto; z-index:$z-sidebar; font-family:$sans-serif; padding-left: 1em; padding-right:1em; 
  > * { display: block; width: 100%; }
  > a { font-size: 2.2em; padding: 0.25em 0; font-weight: 100; color: white; text-decoration: none; }
  h4 { font-size: 1.1rem; color: $white; text-transform: uppercase; margin-top: 1em; }
  .main-link { font-size: 1.6rem; padding: 0.25em 0; font-weight: 100; color: $white; text-decoration: none; display: block; border: none;
    &.draw-focus { transform-origin: center left; animation-name:draw-focus; animation-duration:10s; animation-iteration-count: infinite; animation-timing-function: ease; }
    .count { font-size: 42%; width: 1.6em; height: 1.6em; border: 1px solid $white; display: inline-block; text-align: center; border-radius: 50%; line-height: 1.6em; transform: translateY(-80%); opacity: 0;
      &.visible { opacity: 1; }
    }
    &:hover { background-color: $white; color: $black;
      .count { border-color: $black; }
    }
    &:active { background-color: $red; }
    
    
  }
  .circles { padding-top: 1em; padding-bottom: 1em; overflow: hidden;
    a { width: 56px; height:56px; margin-right: 6px; display: block; float: left; @include transition(all, 0.5s);
      &:last-child { margin-right: 0; }
      .inside { @include transition(all, 0.5s); transform-origin: 50% 50%; }
      svg {
        .bird { fill: #55acee; }
        .snake { fill: #4eb85d; }
        .rss { fill: #ea832f; }
        .circle { fill:$white; }
        //.orange { fill:#fabb32; }
        //.green { fill:#a9c54f; }
        .youtube { fill:#e52d27; }
      }
      &:hover { @include rotate(360deg); }
      &:active .inside { @include scale(0.65); }
      &:hover {
        &.twitter .circle { fill:#55acee; }
        &.ballpit .circle { fill:#4eb85d; }
        //&.flattr .circle { fill:#fabb32; }
        &.rss .circle { fill:#ea832f; }
        &.youtube .circle { fill:#e52d27; }
      }
    }
  }
}

ul.tag-cloud { padding-left: 0; clear: both; float: none;
  li { display: inline;font-size: 0.75rem; }
  a { color: #ffa3a3; text-decoration: none;
    &:hover { color: #ff5c5c; }
  }
}

#SidebarSearch { margin-top: 1em; padding: 0.25em 1em; background-color: transparent; border: 1px solid $white; font-size: 1.1em; font-family:$sans-serif; color: $white;
  &:hover, &:focus { background-color: $white; color:$black; }
}

.flapjax { @include transition(all, 0.82s);
  svg * { fill:$red; }
  &.active { transform: rotateY(180deg) }
}

@media (min-width: $desktop-min) {
  .mobile-menu { display: none; }
  a.flapjax { display: none; }
  .home-link { padding:0.1em 0; line-height: 0; margin: 0.3em 0;
    &:hover { background-color:$white;
      .st0 { fill:#212221; }
    }
    &:active { background-color:$red;
      .st1 { fill:#212221; }
    }
  }
}

@media (max-width: $mobile-max) {
  .mobile-menu { display: block; position: absolute; top:0; left:0; right:0; padding-left:0.5em; height:$mobile-top; background: $black;
    .flapjax { display: block; width:60px; height: 60px; float: left; margin-right:0.5em;
      svg { height:100%; width:100%; }
    }
    .mobile-logo { display: block; height: 56px; padding-top: 4px; padding-bottom: 4px; padding-right: 15px; float: right; }
  }
  
  .home-link { display: block; 
    &:hover, &:active {
      svg { background:$white; }
      .st0 { fill:#212221; }
    }
    header & { max-width: 200px; float: right; }
    .sidebar & { display: inline-block; max-width: 170px; }
  }
  .sidebar { @include transition(); @include translateX(-105%); width: 100%; max-width: 330px; top:$mobile-top;
    &.visible { @include translateX(0); }
    .desktop-logo { height: 60px; }
    .flapjax { display: none; }
    .home-link { display: none; }
  }
}

*/



$logoLinkHeight: 160px;


@media (min-width: $desktop-min) {
  .mobile-menu { display: none; }
  a.flapjax { display: none; }

  .sidebar { position: fixed; top: 0; left: 0; bottom: 0; width: $sidebar; z-index: 99;

    .logo-link { display: block; @include position(absolute,null,0,0,0); height:$logoLinkHeight;
      * { pointer-events: none; }
      .logo-mark { position: absolute; bottom:-70px; left:10px; width:($sidebar * 0.7); transition:all 1s ease; }
      .logo-type { position:absolute; right:40px; top:20%; width:($sidebar * 0.5); transition:all 1s ease; transform: translateY(($logoLinkHeight * 1.2))  }
      .slogan { position:absolute; bottom: 10px; right:10px; width:($sidebar * 0.46); opacity:0; transition: all 1s ease; transform:translateX(100%);
        span { display: block; text-decoration: none; font-style: italic;
          &:first-child { transform:translateX(-20%); }
        }
      }


      &:hover { 
        .logo-mark { transform: scale(0.5) translate(-50%, -4%); }
        .logo-type { transform: translateY(0); transition-delay: 0.3s; }
        .slogan { opacity:1; transform:translateX(0); transition-delay: 0.6s; }
      }

      


      /*
      &:hover {
        .logo-mark { transform: scale(0.5) translate(-50%, -4%); }
        .logo-type { transform: translateY(0); }
      }
      */
      //.logo-mark { transform: scale(0.5) translate(-50%, -4%); }
      //.logo-type {}
      
    }

    


    .sidebar-links { @include position(absolute,null,40px,($logoLinkHeight * 1.2),40px);
      a { display: block; margin-bottom: 1em; color:rgba($black,0.8); text-decoration: none; font-size:1.4rem;
        &:hover { color:$link; font-weight: $bold; }
      }
    }

    input { padding: 0; width:100%; background-color: transparent; border:none; border-bottom: 2px solid transparent; font-size:1.4rem; font-family:$sans-serif; color:rgba($black,0.8); outline: none;
      &::placeholder { color:rgba($black,0.8); }
      &:hover, &:focus { background-color: $white; color:$link; border-color:$link; }
    }


  }



/*
  a.flapjax { display: none; }
  .home-link { padding:0.1em 0; line-height: 0; margin: 0.3em 0;
    &:hover { background-color:$white;
      .st0 { fill:#212221; }
    }
    &:active { background-color:$red;
      .st1 { fill:#212221; }
    }
  }
*/
}

